## 问题定位
- 你的崩溃日志仍是同一个：`ForegroundServiceDidNotStartInTimeException`，说明系统认为 `startForegroundService()` 触发后，服务没有在时限内完成“前台化”。
- 这类崩溃在 targetSdk=36（Android 14/15 行为更严格）下常见触发点：
  - 前台期间也使用了 `startForegroundService()`（系统启动计时更苛刻，且多次调用会反复触发计时）。
  - 主线程繁忙导致 Service 的 `onStartCommand` 没机会及时执行（计时到点直接杀进程）。
  - `startForeground()` 发生异常/被系统限制时被吞掉，但计时仍会触发（最终仍 RemoteServiceException）。

## 修复策略（核心）
### 1) 只在“真正需要后台保活”时才用 startForegroundService
- 增加一个全局前后台状态追踪（ProcessLifecycleOwner），提供 `isAppInForeground`。
- 改造 `ChatViewModel.updateKeepAliveService()`：
  - App 在前台：改用 `startService()`（不会触发 did-not-start 计时），并通过通知更新即可。
  - App 进入后台且仍在生成/精读/导入导出：才使用 `startForegroundService()`。

### 2) 降低“反复启动服务”频率
- 给 keepalive 增加“节流/去重”：
  - 若服务已在运行，仅通过 `NotificationManager.notify()` 更新通知内容，不再重复 startForegroundService。
  - 仅在从 0→1（首次需要保活）或前后台切换时触发启动/升级。

### 3) 服务端严格兜底与可观测性
- `MuMuKeepAliveService`：
  - 在 `onCreate()` 或 `onStartCommand()` 最早阶段调用一次最小通知 `startForeground`。
  - 若 `startForeground` 抛异常，打印明确日志（包含异常类型/消息），并立刻停止服务，避免“静默失败但仍触发系统计时”。

## 侧边栏左上角布局修复
- 把状态标签从普通 Row 改成更稳的布局：
  - 使用 LazyRow（或强制单行滚动 Row）+ `maxLines=1` + 固定高度。
  - 让标题区（Logo+名称）与状态区分层，减少挤压导致的竖排/断行。

## 验证方式
- 编译与单测：`testDebugUnitTest`。
- 运行验证：
  - 前台发送消息：不再触发前台服务计时崩溃。
  - 切后台继续生成：后台才启动前台服务并常驻通知。
  - 侧边栏状态条在窄屏不再竖排/挤压。

如果你确认，我将按上述方案提交代码修改（涉及 ChatViewModel、MuMuKeepAliveService、新增前后台追踪组件、侧边栏布局微调）。